# Cricket Watchdog üèèüì∫

**Cricket Watchdog** is an intelligent Android TV application designed to enhance your cricket viewing experience. It runs in the background while you watch a match, monitoring the live score and providing audio/visual alerts for key events (4s, 6s, Wickets)‚Äîensuring you never miss a moment, even if your TV is muted or you are distracted.

## üöÄ Features

*   **Live Score Monitoring:** Fetches real-time scores using the Cricket Data API.
*   **Smart Alerts:**
    *   **Visual Flash:** Flashes the screen (Green for 4, Orange for 6, Red for Wicket) to grab your attention.
    *   **Audio Events:** Plays sound effects (Cheer, Horn, Shatter) or AI Voice announcements.
    *   **Mute Detection:** intelligently triggers alerts *only* when the system volume is muted (optional).
*   **Auto-Match Detection:** Automatically scans your TV screen using OCR (Optical Character Recognition) to identify which match you are watching and syncs with the correct API data.
*   **Background Service:** Runs invisibly over other apps (like your TV input or streaming app).
*   **Customizable:** Adjust sync delay, choose sound packs, and toggle features in the settings.

## üõ†Ô∏è Development Summary (What We Built)

This project was built from scratch with the following components:

1.  **Project Setup:**
    *   Initialized a standard Android Project with Kotlin and Gradle.
    *   Configured dependencies for Retrofit (API), ML Kit (OCR), and Coroutines.
    *   Resolved complex build environment issues (Gradle 9.2.1, AndroidX migration).

2.  **Core Logic:**
    *   **`MatchMonitorService`:** A Foreground Service that acts as the brain of the app, polling for scores and managing the monitoring loop.
    *   **`MatchAPI`:** Integrated with `CricketData.org` to fetch live match data.
    *   **`AutoSyncEngine`:** Implemented a sophisticated sync engine that captures the screen (via `MediaProjection`), uses **ML Kit Text Recognition** to read the over number (e.g., "14.2"), and calculates the exact delay between the TV stream and the API.
    *   **`OverlayManager`:** Uses `WindowManager` to draw full-screen alert overlays over other apps.
    *   **`VolumeManager`:** Manages audio focus and detects system volume state.

3.  **Key Iterations:**
    *   **Auto-Match Detection:** We upgraded the app to automatically find the correct match ID by comparing the on-screen score with active API matches.
    *   **OCR Experiments:** We briefly implemented a "Zero-API" mode that relied purely on screen reading for events. This was later reverted to the more stable API-based approach with OCR used for syncing.
    *   **UI Polish:** Added a custom App Icon, dynamic slider labels, and permission checks at startup.

## üì¶ How to Build

The project is set up for build via Gradle.

```bash
# Build Debug APK
./gradlew assembleDebug
```

The APK will be located at `app/build/outputs/apk/debug/app-debug.apk`.

## üîë API Key

The app requires an API key from [CricketData.org](https://cricketdata.org/).
*   A default key is embedded for testing.
*   You can change this in the app settings.

---
*Generated by Antigravity AI*
